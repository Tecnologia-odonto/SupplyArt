# SupplyArt - Sistema de Estoque e Invent√°rio

## üìã Vis√£o Geral

O **SupplyArt** √© um sistema completo de gest√£o de estoque e invent√°rio desenvolvido para empresas que precisam controlar materiais, equipamentos e suprimentos entre m√∫ltiplas unidades e centros de distribui√ß√£o.

### üéØ Principais Caracter√≠sticas

- **Controle Multi-Unidade**: Gest√£o centralizada com visibilidade por unidade
- **Fluxo Inteligente**: CD ‚Üí Em Rota ‚Üí Unidade com rastreamento autom√°tico
- **Controle Financeiro**: Or√ßamentos por unidade com consumo autom√°tico
- **Auditoria Completa**: Logs detalhados de todas as opera√ß√µes
- **Controle de Vida √ötil**: Rastreamento individual de equipamentos
- **Sistema de Permiss√µes**: 5 n√≠veis de acesso com funcionalidades espec√≠ficas

---

## üë• Sistema de Usu√°rios e Permiss√µes

### Tipos de Usu√°rio

#### üî¥ **Administrador**
- **Acesso**: Total ao sistema
- **Funcionalidades**: Todas as opera√ß√µes em todos os m√≥dulos
- **Responsabilidades**: Configura√ß√£o geral, gest√£o de usu√°rios, supervis√£o completa

#### üü° **Gestor**
- **Acesso**: Sua unidade espec√≠fica + vis√£o geral
- **Funcionalidades**: Gest√£o completa da unidade, aprova√ß√£o de pedidos, relat√≥rios
- **Responsabilidades**: Supervis√£o da unidade, controle de or√ßamento, aprova√ß√£o de solicita√ß√µes

#### üîµ **Operador Financeiro**
- **Acesso**: M√≥dulo financeiro + visualiza√ß√£o de pedidos
- **Funcionalidades**: Gest√£o de or√ßamentos, receitas, relat√≥rios financeiros
- **Responsabilidades**: Controle financeiro, configura√ß√£o de or√ßamentos

#### üü¢ **Operador Administrativo**
- **Acesso**: Sua unidade espec√≠fica
- **Funcionalidades**: Cria√ß√£o de pedidos, gest√£o de estoque local, invent√°rio
- **Responsabilidades**: Opera√ß√µes di√°rias da unidade, solicita√ß√µes de materiais
- **Seguran√ßa**: Logout autom√°tico ap√≥s 2h de inatividade

#### üü£ **Operador Almoxarife**
- **Acesso**: Centro de Distribui√ß√£o espec√≠fico
- **Funcionalidades**: Gest√£o de estoque CD, aprova√ß√£o de pedidos, compras
- **Responsabilidades**: Controle do CD, distribui√ß√£o para unidades, compras de reposi√ß√£o

---

## üì¶ M√≥dulos do Sistema

### 1. üè† **Dashboard**

#### Funcionalidades Principais
- **Vis√£o Geral**: Estat√≠sticas em tempo real do sistema
- **Filtros Inteligentes**: Por per√≠odo, unidade e tipo de dados
- **Alertas Autom√°ticos**: 
  - Estoque baixo
  - Itens vencidos
  - Manuten√ß√µes programadas
- **Atividade Recente**: √öltimas a√ß√µes realizadas no sistema

#### M√©tricas Exibidas
- Total de itens cadastrados
- N√∫mero de unidades
- Pedidos pendentes
- Gastos do per√≠odo
- Status de or√ßamentos

### 2. üë§ **Perfil do Usu√°rio**

#### Funcionalidades
- **Edi√ß√£o de Dados**: Nome, email, setor
- **Informa√ß√µes do Sistema**: Fun√ß√£o, unidade vinculada, datas
- **Seguran√ßa**: Altera√ß√£o de senha via email
- **Configura√ß√µes**: Prefer√™ncias pessoais

### 3. üè¢ **Unidades**

#### Funcionalidades Principais
- **Cadastro de Unidades**: Filiais e Centros de Distribui√ß√£o
- **Informa√ß√µes Completas**: Nome, descri√ß√£o, endere√ßo
- **Classifica√ß√£o**: Diferencia√ß√£o entre Unidade e CD
- **Gest√£o Hier√°rquica**: Controle de acesso por unidade

#### Tipos de Unidade
- **Filial**: Unidade consumidora que faz pedidos
- **Centro de Distribui√ß√£o (CD)**: Unidade fornecedora que atende pedidos

### 4. üì¶ **Itens (Cat√°logo)**

#### Funcionalidades Principais
- **Cat√°logo Centralizado**: Base de dados de todos os produtos
- **C√≥digo Autom√°tico**: Gera√ß√£o inteligente baseada em nome + categoria
- **Categoriza√ß√£o**: Organiza√ß√£o por tipo de material
- **Controle de Exibi√ß√£o**: Flag para aparecer em pedidos
- **Vida √ötil**: Marca√ß√£o para controle individual

#### Categorias Padr√£o
- Material de Escrit√≥rio
- Material de Limpeza
- Insumo Odontol√≥gico
- Equipamento de Inform√°tica
- Medica√ß√£o
- Equipamento Odontol√≥gico
- Instrumental Odontol√≥gico
- Material Gr√°fico
- Pe√ßas de Equipamento

#### Unidades de Medida
- un, cx, kg, g, l, ml, m, cm, p√ß, par, dz

### 5. üìç **Localiza√ß√µes**

#### Funcionalidades Principais
- **Organiza√ß√£o F√≠sica**: Departamentos e locais espec√≠ficos
- **Vincula√ß√£o por Unidade**: Cada localiza√ß√£o pertence a uma unidade
- **Cria√ß√£o Autom√°tica**: Gerada automaticamente ao usar em estoque/invent√°rio
- **Filtros Avan√ßados**: Por nome, descri√ß√£o e unidade

#### Exemplos de Localiza√ß√µes
- Consult√≥rio 1, 2, 3...
- Recep√ß√£o
- Administra√ß√£o
- Almoxarifado
- Estoque Geral

### 6. üè™ **Fornecedores**

#### Funcionalidades Principais
- **Cadastro Completo**: Nome, contato, CNPJ, endere√ßo
- **Formata√ß√£o Autom√°tica**: CNPJ e telefone com m√°scaras
- **Integra√ß√£o**: Vincula√ß√£o com compras e eventos de invent√°rio
- **Controle de Acesso**: Apenas roles financeiros podem gerenciar

#### Informa√ß√µes Armazenadas
- Nome da empresa
- Pessoa de contato
- Email e telefone
- Endere√ßo completo
- CNPJ formatado

### 7. üìä **Estoque (Unidades)**

#### Funcionalidades Principais
- **Controle por Unidade**: Estoque espec√≠fico de cada filial
- **Agrupamento Inteligente**: Soma quantidades do mesmo item
- **Limites Configur√°veis**: Quantidade m√≠nima e m√°xima
- **Status Autom√°tico**: Normal, Baixo, Vazio
- **Filtros Avan√ßados**: Por unidade, item e status

#### Opera√ß√µes
- **Ajuste de Estoque**: Adicionar/remover quantidades
- **Movimenta√ß√µes Autom√°ticas**: Registro de todas as altera√ß√µes
- **Alertas**: Notifica√ß√µes para estoque baixo
- **Localiza√ß√£o**: Controle de onde cada item est√° armazenado

### 8. üè≠ **Estoque CD (Centro de Distribui√ß√£o)**

#### Funcionalidades Principais
- **Estoque Central**: Controle do CD que abastece as unidades
- **Pre√ßos Unit√°rios**: Defini√ß√£o de custos para c√°lculo de pedidos
- **Controle de Reposi√ß√£o**: Limites m√≠nimos e m√°ximos
- **Acesso Restrito**: Apenas Admin e Operador Almoxarife

#### Caracter√≠sticas Especiais
- **Fonte de Pre√ßos**: Pre√ßos definidos aqui s√£o usados nos pedidos
- **Agrupamento**: Soma quantidades ao inv√©s de criar duplicatas
- **Rastreamento**: Hist√≥rico de atualiza√ß√µes de pre√ßo
- **Integra√ß√£o**: Base para o fluxo de distribui√ß√£o

### 9. üöö **Em Rota**

#### Funcionalidades Principais
- **Rastreamento Visual**: Anima√ß√£o de entrega em tempo real
- **Controle de Tr√¢nsito**: Status "Em Tr√¢nsito" e "Entregue"
- **Finaliza√ß√£o Autom√°tica**: Marca entrega e atualiza estoques
- **Integra√ß√£o com Pedidos**: Vincula√ß√£o autom√°tica com pedidos internos

#### Fluxo de Entrega
1. **Envio**: Item sai do CD e entra "Em Rota"
2. **Tr√¢nsito**: Acompanhamento visual com tempo estimado
3. **Entrega**: Confirma√ß√£o manual que atualiza estoque da unidade
4. **Finaliza√ß√£o**: Consumo autom√°tico do or√ßamento

#### Anima√ß√£o de Rastreamento
- **Progresso Visual**: Barra de progresso com motinha animada
- **Tempo Estimado**: C√°lculo baseado em 3 horas de entrega
- **Status em Tempo Real**: Atualiza√ß√£o autom√°tica do progresso

### 10. üìã **Invent√°rio**

#### Funcionalidades Principais
- **Controle Detalhado**: Rastreamento espec√≠fico por localiza√ß√£o
- **Status M√∫ltiplos**: Dispon√≠vel, Reservado, Danificado, Vencido
- **Vida √ötil**: Controle individual para equipamentos
- **Movimenta√ß√£o Autom√°tica**: Transfer√™ncia entre estoque e invent√°rio

#### Controle de Vida √ötil
- **Itens Individuais**: Quantidade fixa em 1 para equipamentos
- **Hist√≥rico Completo**: Eventos, manuten√ß√µes, reparos
- **Manuten√ß√£o Preventiva**: Agendamento e alertas
- **Custos**: Controle de gastos com manuten√ß√£o

#### Status de Invent√°rio
- **Dispon√≠vel**: Item pronto para uso
- **Reservado**: Item alocado para uso espec√≠fico
- **Danificado**: Item com problemas identificados
- **Vencido**: Item fora da validade

### 11. üìù **Pedidos Internos**

#### Funcionalidades Principais
- **Fluxo Completo**: Solicita√ß√£o ‚Üí Aprova√ß√£o ‚Üí Envio ‚Üí Entrega
- **Controle de Or√ßamento**: Valida√ß√£o em tempo real
- **Filtro Inteligente**: Apenas itens dispon√≠veis no CD
- **Prioriza√ß√£o**: 4 n√≠veis de prioridade

#### Fluxo de Status
1. **Solicitado**: Pedido criado, aguardando an√°lise
2. **Analisando**: Verifica√ß√£o de disponibilidade no CD
3. **Aprovado**: Pedido aprovado, pronto para envio
4. **Aprovado-Pendente**: Aprovado mas aguardando compra de itens em falta
5. **Preparando**: Separando itens no CD
6. **Enviado**: Itens em rota para a unidade
7. **Recebido**: Itens chegaram na unidade
8. **Aprovado-Unidade**: Confirma√ß√£o final de recebimento

#### Valida√ß√µes Autom√°ticas
- **Or√ßamento**: Verifica√ß√£o em tempo real se a unidade tem verba
- **Estoque CD**: Valida√ß√£o de disponibilidade antes do envio
- **Compra Autom√°tica**: Cria√ß√£o de pedidos de compra para itens em falta

### 12. üõí **Compras**

#### Funcionalidades Principais
- **Exclusivo para CDs**: Apenas Centros de Distribui√ß√£o fazem compras
- **Gest√£o de Fornecedores**: Vincula√ß√£o com fornecedores cadastrados
- **Controle de Status**: Fluxo completo at√© finaliza√ß√£o
- **Finaliza√ß√£o Autom√°tica**: Adi√ß√£o autom√°tica ao estoque

#### Fluxo de Compras
1. **Pedido Realizado**: Compra criada
2. **Em Cota√ß√£o**: Cotando pre√ßos
3. **Comprado-Aguardando**: Aguardando entrega
4. **Chegou CD**: Mercadoria no CD
5. **Enviado**: Distribu√≠do para unidades
6. **Finalizado**: Adicionado ao estoque automaticamente

#### Integra√ß√£o com Pedidos
- **Cria√ß√£o Autom√°tica**: Compras geradas quando CD n√£o tem estoque
- **Vincula√ß√£o**: Compras linkadas aos pedidos que as originaram
- **Status Sincronizado**: Pedidos ficam pendentes at√© compra ser finalizada

### 13. üí∞ **Financeiro**

#### Funcionalidades Principais
- **Or√ßamentos por Unidade**: Controle individual de verba
- **Receitas e Despesas**: Gest√£o completa de transa√ß√µes
- **Relat√≥rios Detalhados**: Gastos por unidade e categoria
- **Alertas de Or√ßamento**: Notifica√ß√µes de vencimento e esgotamento

#### Gest√£o de Or√ßamentos
- **Per√≠odos Configur√°veis**: Or√ßamentos com data de in√≠cio e fim
- **Consumo Autom√°tico**: D√©bito autom√°tico quando pedidos s√£o entregues
- **Saldo em Tempo Real**: C√°lculo autom√°tico do dispon√≠vel
- **M√∫ltiplos Or√ßamentos**: Possibilidade de v√°rios or√ßamentos por unidade

#### Transa√ß√µes Financeiras
- **Receitas**: Adi√ß√£o manual de verbas
- **Despesas**: Criadas automaticamente no consumo de or√ßamento
- **Rastreabilidade**: Vincula√ß√£o com pedidos e compras
- **Relat√≥rios**: An√°lise por per√≠odo, unidade e categoria

### 14. ‚ÜîÔ∏è **Movimenta√ß√µes**

#### Funcionalidades Principais
- **Hist√≥rico Completo**: Todas as movimenta√ß√µes entre unidades
- **Tipos de Movimento**: Transfer√™ncia, Ajuste, Compra
- **Cria√ß√£o Manual**: Movimenta√ß√µes diretas entre unidades
- **Registro Autom√°tico**: Movimenta√ß√µes geradas pelo sistema

#### Tipos de Movimenta√ß√£o
- **Transfer√™ncia**: Entre unidades diferentes (apenas CD ‚Üí Unidade)
- **Ajuste**: Corre√ß√£o de quantidade no estoque
- **Compra**: Criada automaticamente quando compras s√£o finalizadas

#### Valida√ß√µes
- **Estoque Dispon√≠vel**: Verifica√ß√£o antes de transfer√™ncias
- **Origem V√°lida**: Apenas CDs podem ser origem de transfer√™ncias
- **Rastreabilidade**: Refer√™ncia ao pedido ou processo que originou

### 15. üìä **Logs de Auditoria**

#### Funcionalidades Principais
- **Rastreamento Completo**: Todas as a√ß√µes s√£o registradas
- **Filtros por Per√≠odo**: Consulta por data espec√≠fica
- **Detalhamento**: Valores antigos e novos de cada altera√ß√£o
- **Usu√°rio e Timestamp**: Quem fez o que e quando

#### Tipos de Log
- **Cria√ß√£o**: Novos registros
- **Atualiza√ß√£o**: Modifica√ß√µes
- **Exclus√£o**: Remo√ß√µes
- **Login/Logout**: Controle de acesso
- **Opera√ß√µes Especiais**: Aprova√ß√µes, finaliza√ß√µes, etc.

#### Informa√ß√µes Registradas
- Usu√°rio respons√°vel
- A√ß√£o realizada
- Tabela afetada
- ID do registro
- Valores antes e depois
- Data/hora da opera√ß√£o

---

## üîÑ Fluxos Principais do Sistema

### üìã **Fluxo de Pedidos Internos**

```
1. Operador Administrativo cria pedido
   ‚Üì
2. Sistema valida or√ßamento da unidade
   ‚Üì
3. Gestor/Almoxarife aprova pedido
   ‚Üì
4. Sistema verifica estoque no CD
   ‚Üì
5a. Se tem estoque: Envia para "Em Rota"
5b. Se n√£o tem: Cria compra autom√°tica ‚Üí Status "Aprovado-Pendente"
   ‚Üì
6. Item em tr√¢nsito (rastreamento visual)
   ‚Üì
7. Confirma√ß√£o de entrega
   ‚Üì
8. Adi√ß√£o autom√°tica ao estoque da unidade
   ‚Üì
9. Consumo autom√°tico do or√ßamento
   ‚Üì
10. Finaliza√ß√£o do pedido
```

### üõí **Fluxo de Compras**

```
1. Almoxarife cria pedido de compra
   ‚Üì
2. Sistema valida or√ßamento do CD
   ‚Üì
3. Cota√ß√£o com fornecedores
   ‚Üì
4. Compra realizada
   ‚Üì
5. Recebimento no CD
   ‚Üì
6. Finaliza√ß√£o da compra
   ‚Üì
7. Adi√ß√£o autom√°tica ao estoque do CD
   ‚Üì
8. Libera√ß√£o de pedidos pendentes
```

### üí∞ **Fluxo Financeiro**

```
1. Configura√ß√£o de or√ßamento por unidade
   ‚Üì
2. Cria√ß√£o de pedidos (valida√ß√£o de verba)
   ‚Üì
3. Aprova√ß√£o (sem consumo ainda)
   ‚Üì
4. Entrega dos itens
   ‚Üì
5. Consumo autom√°tico do or√ßamento
   ‚Üì
6. Cria√ß√£o de transa√ß√£o financeira
   ‚Üì
7. Atualiza√ß√£o do saldo dispon√≠vel
```

---

## üîß Funcionalidades T√©cnicas

### üîí **Seguran√ßa**
- **RLS (Row Level Security)**: Controle de acesso a n√≠vel de banco
- **Autentica√ß√£o**: Sistema robusto com recupera√ß√£o de senha
- **Auditoria**: Log completo de todas as opera√ß√µes
- **Timeout**: Logout autom√°tico para operadores administrativos

### ü§ñ **Automa√ß√µes**
- **Triggers de Banco**: Atualiza√ß√µes autom√°ticas de timestamps
- **Consumo de Or√ßamento**: D√©bito autom√°tico na entrega
- **Finaliza√ß√£o de Pedidos**: Status autom√°tico quando todos itens entregues
- **Cria√ß√£o de Compras**: Pedidos autom√°ticos quando estoque insuficiente
- **Movimenta√ß√µes**: Registro autom√°tico de todas as transfer√™ncias

### üì± **Interface**
- **Design Responsivo**: Funciona em desktop, tablet e mobile
- **Anima√ß√µes**: Feedback visual para melhor UX
- **Filtros Inteligentes**: Busca e filtros em tempo real
- **Notifica√ß√µes**: Alertas e confirma√ß√µes em tempo real
- **Temas**: Design moderno com cores consistentes

### üîÑ **Integra√ß√µes**
- **Supabase**: Banco de dados PostgreSQL com RLS
- **Edge Functions**: Processamento serverless para opera√ß√µes complexas
- **Real-time**: Atualiza√ß√µes em tempo real via WebSockets
- **Email**: Sistema de recupera√ß√£o de senha e notifica√ß√µes

---

## üìà Relat√≥rios e Analytics

### üìä **Relat√≥rios Dispon√≠veis**
- **Gastos por Unidade**: Consumo de or√ßamento detalhado
- **Estoque Baixo**: Itens que precisam reposi√ß√£o
- **Movimenta√ß√µes**: Hist√≥rico de transfer√™ncias
- **Manuten√ß√µes**: Equipamentos que precisam manuten√ß√£o
- **Auditoria**: Relat√≥rio completo de a√ß√µes

### üìâ **M√©tricas em Tempo Real**
- Status de estoque por unidade
- Or√ßamentos dispon√≠veis
- Pedidos pendentes por status
- Itens em tr√¢nsito
- Alertas de sistema

---

## üöÄ Tecnologias Utilizadas

### **Frontend**
- **React 18** com TypeScript
- **Tailwind CSS** para estiliza√ß√£o
- **React Router** para navega√ß√£o
- **React Hook Form** para formul√°rios
- **Lucide React** para √≠cones
- **React Hot Toast** para notifica√ß√µes

### **Backend**
- **Supabase** (PostgreSQL + Auth + Real-time)
- **Row Level Security (RLS)** para controle de acesso
- **Edge Functions** para l√≥gica serverless
- **Triggers** para automa√ß√µes de banco

### **Infraestrutura**
- **Vite** como bundler
- **TypeScript** para type safety
- **ESLint** para qualidade de c√≥digo
- **PostCSS** para processamento CSS

---

## üéØ Casos de Uso Principais

### üè• **Cl√≠nica Odontol√≥gica**
- Controle de materiais odontol√≥gicos
- Gest√£o de equipamentos com manuten√ß√£o
- Pedidos entre consult√≥rios
- Controle de estoque de medicamentos

### üè¢ **Empresa Multi-Filial**
- Distribui√ß√£o centralizada de materiais
- Controle de or√ßamento por filial
- Pedidos internos automatizados
- Relat√≥rios gerenciais

### üè≠ **Ind√∫stria**
- Controle de insumos de produ√ß√£o
- Gest√£o de ferramentas e equipamentos
- Manuten√ß√£o preventiva
- Movimenta√ß√µes entre setores

---

## üìã Pr√≥ximas Funcionalidades

### üîÆ **Roadmap**
- [ ] **Dashboard Analytics**: Gr√°ficos avan√ßados e KPIs
- [ ] **Integra√ß√£o com ERP**: Conectores para sistemas externos
- [ ] **App Mobile**: Aplicativo nativo para opera√ß√µes de campo
- [ ] **C√≥digo de Barras**: Leitura e impress√£o de etiquetas
- [ ] **Relat√≥rios PDF**: Exporta√ß√£o de relat√≥rios
- [ ] **Notifica√ß√µes Push**: Alertas em tempo real
- [ ] **API P√∫blica**: Integra√ß√£o com sistemas terceiros
- [ ] **Backup Autom√°tico**: Rotinas de backup e restore

---

## üõ†Ô∏è Instala√ß√£o e Configura√ß√£o

### **Pr√©-requisitos**
- Node.js 18+
- Conta no Supabase
- Git

### **Configura√ß√£o**
1. Clone o reposit√≥rio
2. Instale depend√™ncias: `npm install`
3. Configure vari√°veis de ambiente (`.env`)
4. Execute migra√ß√µes do Supabase
5. Inicie o servidor: `npm run dev`

### **Vari√°veis de Ambiente**
```env
VITE_SUPABASE_URL=sua_url_do_supabase
VITE_SUPABASE_ANON_KEY=sua_chave_anonima
```

---

## üìû Suporte

Para d√∫vidas, sugest√µes ou problemas:
- **Documenta√ß√£o**: Este README
- **Logs**: M√≥dulo de Auditoria no sistema
- **Suporte T√©cnico**: Contate o administrador do sistema

---

**SupplyArt** - Transformando a gest√£o de estoque em uma experi√™ncia inteligente e automatizada! üöÄ